<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>머먹지</title>

    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/like.css">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<body class="relative flex flex-col items-center">

<!-- ✅ 네비게이션 바 (Fade In Down) -->
<header class="w-full flex justify-between items-center px-16 py-4 text-lg text-gray-800 border-b-2 border-red-700 mb-14 animate__animated animate__fadeInDown">
    <a href="#" class="text-2xl font-bold text-red-800 logo animate__animated animate__rubberBand">
        <img src="/image/logo.png" alt="logo" onclick="location.href='/'"/>
    </a>
    <nav class="flex space-x-16 uppercase font-semibold text-red-800 text-2xl">
        <a class="refrigerator hover:animate-pulse">Refrigerator</a>
        <a class="like hover:animate-pulse">Like</a>
        <a class="recipe hover:animate-pulse">Recipe</a>
    </nav>

    <!-- ✅ 로그인 상태 변경을 위한 버튼 그룹 -->
    <div class="nav-buttons hidden md:flex space-x-2">
        <button id="loginBtn"
                class="px-3 md:px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-700 transition"
                onclick="location.href='login'"
        >login
        </button>
        <button id="signupBtn"
                class="px-3 md:px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-700 transition"
                onclick="location.href='signup'"
        >Sign
        </button>
        <button id="mypageBtn"
                class="px-3 md:px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-700 transition none"
                onclick="location.href='mypage'"
        >Mypage
        </button>
        <button id="logoutBtn"
                class="px-3 md:px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-700 transition none"
                onclick="logout()"
        >Logout
        </button>
    </div>
</header>

<div class="my-like-container">
    <button class="toggle-btn" id="toggleLikedRecipes" onclick="toggleLikedItems()">찜한 목록만 보기</button>
    <div class="post-container">
        <div id="savedRecipesContainer" class="flex gap-4 p-4">
            <div class="saved-recipe-card">
                <h2>❤️ 저장된 레시피 목록</h2>
                <p id="noRecipesMessage">저장된 레시피가 없습니다.</p>
            </div>
        </div>

        <!-- 레시피 팝업 모달 -->
        <div id="recipePopup" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4">
            <div class="bg-white p-5 rounded-lg w-full max-w-2xl max-h-[80vh] shadow-lg overflow-hidden">
                <h2 id="popupTitle" class="text-lg font-bold"></h2>
                <div id="popupContent" class="mt-2 max-h-[60vh] overflow-y-auto p-2 text-gray-700"></div>
                <button onclick="closePopup()" class="mt-4 px-4 py-2 bg-red-500 text-white rounded">닫기</button>
            </div>
        </div>
    </div>
</div>


<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyC2odyQB0r5loPTqmqHdnkoM-JDxdilNpk",
        authDomain: "project-9th-team3-eb188.firebaseapp.com",
        projectId: "project-9th-team3-eb188",
        storageBucket: "project-9th-team3-eb188.firebasestorage.app",
        messagingSenderId: "682296446694",
        appId: "1:682296446694:web:7dcededde4a7fa18857527",
        measurementId: "G-Z5FR7WTXTB"
    };

    // Firebase 초기화
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Firestore를 전역 변수로 설정 (JS 파일에서 사용 가능)
    window.db = db;
</script>
<script type="module" src="/js/main.js"></script>
<script type="module" src="/js/like.js"></script>
</body>
</html>